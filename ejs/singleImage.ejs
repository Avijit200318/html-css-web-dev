<% include ./partials/header.ejs %>
    <div class="w-full h-[91vh]  flex justify-center pt-20">
        <div class="box w-[70%] bg-white h-[75vh] rounded-2xl flex overflow-hidden shadow-[0_3px_10px_rgb(0,0,0,0.2)]">
            <!-- relative -->
            <div class="left bg-red-500 w-[50%] h-full">
                <img id="postImage" src="/images/uploads/<%= post.image%>" class="w-full h-full object-cover" alt="">
            </div>
            <div class="right bg-white w-[50%] h-full px-14 py-12 relative">
                <div class="w-full inline-block">
                    <a id="saveButton" class="bg-red-600 text-white float-right px-5 py-2 rounded-full relative left-6 bottom-4 transition-all duration-500 hover:bg-red-500" href="">Save</a>
                </div>
                <h1 class="text-2xl font-semibold uppercase"><%= post.title %></h1>
                <div class="flex justify-between items-center">
                    <div class="flex gap-2 items-center">
                        <div class="image w-16 h-16 rounded-full bg-red-500 mt-5 overflow-hidden">
                            <img src="/images/uploads/<%= post.user.profileImage %>" class="w-full h-full object-cover" alt="">
                        </div>
                        <div class="mt-12">
                            <h1 class="text-sm font-semibold">@<%= post.user.username %></h1>
                            <h5 class="text-xs font-semibold opacity-50">100 Followers</h5>
                        </div>
                    </div>

                    <button class="h-12 px-5 rounded-full bg-zinc-200 transition-all duration-500 hover:bg-zinc-300">Follow</button>
                </div>
                <div class="mt-12">
                    <div class="py-6 flex flex-col justify-center">
                        <h1 class="text-xl">Comments</h1>
                        <p class="text-sm opacity-50 mt-5">No comments yet! Add one to start the conversation</p>
                    </div>
                    <hr>
                    <div>
                        <div class="w-full flex justify-between items-center">
                            <h1 class="text-xl pt-5 pb-5">What Do You Think?</h1>
                            <button class="w-10 h-10 bg-zinc-200 text-xl rounded-full transition-all duration-500 hover:bg-red-500 hover:text-white"><i class="ri-heart-line"></i></button>
                        </div>
                        <input class="h-12 w-full bg-zinc-200 px-4 rounded-full" type="text" placeholder="Add a Comment">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="w-full flex justify-center border-t-4 border-bg-zinc-100">
        <h1 class="text-2xl font-medium mb-8">More to explore</h1>
    </div>
    <div class="cards flex flex-wrap gap-6 mb-5 px-20">
        <% allPosts.forEach(function(ele) { %>
            <div class="card w-48">
                <div class="w-full h-64 bg-sky-200 rounded-lg overflow-hidden">
                    <a href="/show/post/<%= ele._id%>">
                    <img src="/images/uploads/<%= ele.image %>" class="w-full h-full object-cover" alt="">
                </a>
                </div>
            </div>
            <% }) %>              
    </div>
<% include ./partials/footer.ejs %>
<script>
    document.getElementById('saveButton').addEventListener('click', function () {
        // Get the image source
        var imageUrl = document.getElementById('postImage').src;

        // Create a temporary link element
        var downloadLink = document.createElement('a');
        downloadLink.href = imageUrl;
        downloadLink.download = 'saved_image.jpg'; // You can set the desired filename

        // Append the link to the body and simulate a click to trigger the download
        document.body.appendChild(downloadLink);
        downloadLink.click();

        // Remove the link from the body
        document.body.removeChild(downloadLink);
    });
</script>
